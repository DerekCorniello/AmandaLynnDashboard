(function(){"use strict";var e={6137:function(e,t,n){var l=n(5130),r=n(6768);const a={id:"app"};function s(e,t,n,l,s,u){const o=(0,r.g2)("ErrorMessage"),i=(0,r.g2)("SuccessMessage"),d=(0,r.g2)("DataTable"),c=(0,r.g2)("EnterData");return(0,r.uX)(),(0,r.CE)(r.FK,null,[t[10]||(t[10]=(0,r.Lk)("br",null,null,-1)),t[11]||(t[11]=(0,r.Lk)("br",null,null,-1)),t[12]||(t[12]=(0,r.Lk)("br",null,null,-1)),t[13]||(t[13]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("div",a,[(0,r.bF)(o,{message:s.errorMessage},null,8,["message"]),(0,r.bF)(i,{message:s.successMessage},null,8,["message"]),t[0]||(t[0]=(0,r.Lk)("br",null,null,-1)),(0,r.bF)(d,{ref:"dataTable"},null,512),t[1]||(t[1]=(0,r.Lk)("br",null,null,-1)),t[2]||(t[2]=(0,r.Lk)("br",null,null,-1)),t[3]||(t[3]=(0,r.Lk)("br",null,null,-1)),t[4]||(t[4]=(0,r.Lk)("br",null,null,-1)),t[5]||(t[5]=(0,r.Lk)("br",null,null,-1)),(0,r.bF)(c,{onDataUpdated:u.handleDataUpdated},null,8,["onDataUpdated"]),t[6]||(t[6]=(0,r.Lk)("br",null,null,-1)),t[7]||(t[7]=(0,r.Lk)("br",null,null,-1)),t[8]||(t[8]=(0,r.Lk)("br",null,null,-1)),t[9]||(t[9]=(0,r.Lk)("br",null,null,-1))]),t[14]||(t[14]=(0,r.Lk)("br",null,null,-1)),t[15]||(t[15]=(0,r.Lk)("br",null,null,-1)),t[16]||(t[16]=(0,r.Lk)("br",null,null,-1)),t[17]||(t[17]=(0,r.Lk)("br",null,null,-1))],64)}var u=n(4373),o=n(4232);const i={class:"center-container"},d={class:"content"},c=["value"],p={key:0},b=["onUpdate:modelValue","type"],h=["onClick"],k=["onClick"],y={key:1};function m(e,t,n,a,s,u){return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.Lk)("div",d,[(0,r.Lk)("h1",null,(0,o.v_)(s.tableTitle),1),t[14]||(t[14]=(0,r.Lk)("label",null,"Search:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.searchQuery=e),onInput:t[1]||(t[1]=(...e)=>u.handleSearch&&u.handleSearch(...e)),placeholder:"Search..."},null,544),[[l.Jo,s.searchQuery]]),t[15]||(t[15]=(0,r.Lk)("br",null,null,-1)),t[16]||(t[16]=(0,r.eW)()),t[17]||(t[17]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("label",null,[t[9]||(t[9]=(0,r.eW)("Sort by: ")),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.sortField=e),onChange:t[3]||(t[3]=(...e)=>u.fetchData&&u.fetchData(...e))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.tableHeaders,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,o.v_)(e),9,c)))),128))],544),[[l.u1,s.sortField]])]),t[18]||(t[18]=(0,r.eW)()),t[19]||(t[19]=(0,r.Lk)("br",null,null,-1)),t[20]||(t[20]=(0,r.eW)()),t[21]||(t[21]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("label",null,[t[11]||(t[11]=(0,r.eW)("Order: ")),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.sortOrder=e),onChange:t[5]||(t[5]=(...e)=>u.fetchData&&u.fetchData(...e))},t[10]||(t[10]=[(0,r.Lk)("option",{value:"asc"},"Ascending",-1),(0,r.Lk)("option",{value:"desc"},"Descending",-1)]),544),[[l.u1,s.sortOrder]])]),t[22]||(t[22]=(0,r.eW)()),t[23]||(t[23]=(0,r.Lk)("br",null,null,-1)),t[24]||(t[24]=(0,r.eW)()),t[25]||(t[25]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>s.selectedTable=e),onChange:t[7]||(t[7]=(...e)=>u.handleTableChange&&u.handleTableChange(...e))},t[12]||(t[12]=[(0,r.Lk)("option",{value:"products"},"Products",-1),(0,r.Lk)("option",{value:"expenses"},"Expenses",-1),(0,r.Lk)("option",{value:"transactions"},"Transactions",-1)]),544),[[l.u1,s.selectedTable]]),t[26]||(t[26]=(0,r.eW)()),t[27]||(t[27]=(0,r.Lk)("br",null,null,-1)),t[28]||(t[28]=(0,r.eW)()),t[29]||(t[29]=(0,r.Lk)("br",null,null,-1)),s.data.length?((0,r.uX)(),(0,r.CE)("table",p,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.tableHeaders,((e,t)=>((0,r.uX)(),(0,r.CE)("th",{key:"header-"+t},(0,o.v_)(e),1)))),128)),t[13]||(t[13]=(0,r.Lk)("th",null,"Actions",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.data,((e,n)=>((0,r.uX)(),(0,r.CE)("tr",{key:"item-"+n},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.tableHeaders,((t,n)=>((0,r.uX)(),(0,r.CE)("td",{key:"data-"+n},[s.isEditing&&e.id===s.currentEditId?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:0,"onUpdate:modelValue":e=>s.editItemData[t]=e,type:u.getInputType(t)},null,8,b)),[[l.hp,s.editItemData[t]]]):((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.eW)((0,o.v_)(e[t]||"N/A"),1)],64))])))),128)),(0,r.Lk)("td",null,[s.isEditing||e.id===s.currentEditId?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t=>u.deleteItem(e.id)},"Delete",8,h)),s.isEditing||e.id===s.currentEditId?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:t=>u.editItem(e)},"Edit",8,k)),s.isEditing&&e.id===s.currentEditId?((0,r.uX)(),(0,r.CE)("button",{key:2,onClick:t[8]||(t[8]=(...e)=>u.saveEdit&&u.saveEdit(...e))},"Save")):(0,r.Q3)("",!0)])])))),128))])])):((0,r.uX)(),(0,r.CE)("p",y,"No data available."))])])}var L={data(){return{selectedTable:"products",data:[],tableHeaders:[],tableTitle:"Product List",isEditing:!1,currentEditId:null,editItemData:{},searchQuery:"",sortField:0,sortOrder:"asc"}},methods:{handleTableChange(){this.isEditing=!1,this.updateSortField(),this.fetchData()},updateSortField(){switch(this.selectedTable){case"products":this.sortField="name";break;case"expenses":this.sortField="type";break;case"transactions":this.sortField="type";break}},handleSearch(){this.fetchData()},async fetchData(){let e="",t=[];switch(this.selectedTable){case"products":e="http://127.0.0.1:8000/api/products/",t=["name","stock","price","number_sold"],this.tableTitle="Product List",this.sortField=this.sortField||"name";break;case"expenses":e="http://127.0.0.1:8000/api/expenses/",t=["name","date","type","price"],this.tableTitle="Expense List",this.sortField=this.sortField||"name";break;case"transactions":e="http://127.0.0.1:8000/api/transactions/",t=["total","date","type","products"],this.tableTitle="Transaction List",this.sortField=this.sortField||"type";break;default:return}try{const n=await u.A.get(e,{params:{search:this.searchQuery,sort_by:this.sortField,order:this.sortOrder}});this.data=n.data.map((e=>{const n={};return t.forEach((t=>{n[t]=void 0!==e[t]?e[t]:"N/A"})),{...n,id:e.id}})),this.tableHeaders=t}catch(n){console.error("Error fetching data:",n),this.data=[],this.tableHeaders=[]}},async deleteItem(e){try{await u.A.delete(`http://127.0.0.1:8000/api/${this.selectedTable}/delete/${e}/`),this.fetchData()}catch(t){console.error("Error deleting item:",t)}},editItem(e){this.isEditing=!0,this.currentEditId=e.id,this.editItemData={},this.tableHeaders.forEach((t=>{this.editItemData[t]=void 0!==e[t]?e[t]:"N/A"}))},async saveEdit(){try{const e=`http://127.0.0.1:8000/api/${this.selectedTable}/update/${this.currentEditId}/`;await u.A.put(e,this.editItemData),this.isEditing=!1,this.currentEditId=null,this.fetchData()}catch(e){console.error("Error updating item:",e)}},getInputType(e){return"price"===e||"total"===e?"number":"text"}},created(){this.updateSortField(),this.fetchData()},watch:{selectedTable(){this.fetchData()}}},E=n(1241);const f=(0,E.A)(L,[["render",m]]);var g=f;const v={style:{"text-align":"center"}},w={key:0},T={key:1},C={key:2};function F(e,t,n,a,s,u){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("h2",v,"Add New Entry to "+(0,o.v_)(u.selectedTableTitle),1),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.selectedTable=e),onChange:t[1]||(t[1]=(...e)=>u.resetForm&&u.resetForm(...e))},t[15]||(t[15]=[(0,r.Lk)("option",{value:"products"},"Products",-1),(0,r.Lk)("option",{value:"expenses"},"Expenses",-1),(0,r.Lk)("option",{value:"transactions"},"Transactions",-1)]),544),[[l.u1,s.selectedTable]]),t[53]||(t[53]=(0,r.eW)()),t[54]||(t[54]=(0,r.Lk)("br",null,null,-1)),t[55]||(t[55]=(0,r.eW)()),t[56]||(t[56]=(0,r.Lk)("br",null,null,-1)),t[57]||(t[57]=(0,r.eW)()),t[58]||(t[58]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("form",{onSubmit:t[14]||(t[14]=(0,l.D$)(((...e)=>u.submitForm&&u.submitForm(...e)),["prevent"]))},["products"===s.selectedTable?((0,r.uX)(),(0,r.CE)("div",w,[t[16]||(t[16]=(0,r.Lk)("label",{for:"name"},"Name:",-1)),t[17]||(t[17]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.newEntry.name=e),required:""},null,512),[[l.Jo,s.newEntry.name]]),t[18]||(t[18]=(0,r.Lk)("br",null,null,-1)),t[19]||(t[19]=(0,r.Lk)("label",{for:"stock"},"Stock:",-1)),t[20]||(t[20]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>s.newEntry.stock=e),required:""},null,512),[[l.Jo,s.newEntry.stock]]),t[21]||(t[21]=(0,r.Lk)("br",null,null,-1)),t[22]||(t[22]=(0,r.Lk)("label",{for:"price"},"Price:",-1)),t[23]||(t[23]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"0.01","onUpdate:modelValue":t[4]||(t[4]=e=>s.newEntry.price=e),required:""},null,512),[[l.Jo,s.newEntry.price]]),t[24]||(t[24]=(0,r.Lk)("br",null,null,-1)),t[25]||(t[25]=(0,r.Lk)("label",{for:"number_sold"},"Number Sold:",-1)),t[26]||(t[26]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>s.newEntry.number_sold=e),required:""},null,512),[[l.Jo,s.newEntry.number_sold]]),t[27]||(t[27]=(0,r.Lk)("br",null,null,-1))])):(0,r.Q3)("",!0),"expenses"===s.selectedTable?((0,r.uX)(),(0,r.CE)("div",T,[t[28]||(t[28]=(0,r.Lk)("label",{for:"name"},"Name:",-1)),t[29]||(t[29]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>s.newEntry.name=e),required:""},null,512),[[l.Jo,s.newEntry.name]]),t[30]||(t[30]=(0,r.Lk)("br",null,null,-1)),t[31]||(t[31]=(0,r.Lk)("label",{for:"date"},"Date:",-1)),t[32]||(t[32]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":t[7]||(t[7]=e=>s.newEntry.date=e),required:""},null,512),[[l.Jo,s.newEntry.date]]),t[33]||(t[33]=(0,r.Lk)("br",null,null,-1)),t[34]||(t[34]=(0,r.Lk)("label",{for:"type"},"Type:",-1)),t[35]||(t[35]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>s.newEntry.type=e),required:""},null,512),[[l.Jo,s.newEntry.type]]),t[36]||(t[36]=(0,r.Lk)("br",null,null,-1)),t[37]||(t[37]=(0,r.Lk)("label",{for:"price"},"Price:",-1)),t[38]||(t[38]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"0.01","onUpdate:modelValue":t[9]||(t[9]=e=>s.newEntry.price=e),required:""},null,512),[[l.Jo,s.newEntry.price]]),t[39]||(t[39]=(0,r.Lk)("br",null,null,-1))])):(0,r.Q3)("",!0),"transactions"===s.selectedTable?((0,r.uX)(),(0,r.CE)("div",C,[t[40]||(t[40]=(0,r.Lk)("label",{for:"total"},"Total:",-1)),t[41]||(t[41]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",step:"0.01","onUpdate:modelValue":t[10]||(t[10]=e=>s.newEntry.total=e),required:""},null,512),[[l.Jo,s.newEntry.total]]),t[42]||(t[42]=(0,r.Lk)("br",null,null,-1)),t[43]||(t[43]=(0,r.Lk)("label",{for:"date"},"Date:",-1)),t[44]||(t[44]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":t[11]||(t[11]=e=>s.newEntry.date=e),required:""},null,512),[[l.Jo,s.newEntry.date]]),t[45]||(t[45]=(0,r.Lk)("br",null,null,-1)),t[46]||(t[46]=(0,r.Lk)("label",{for:"type"},"Type:",-1)),t[47]||(t[47]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=e=>s.newEntry.type=e),required:""},null,512),[[l.Jo,s.newEntry.type]]),t[48]||(t[48]=(0,r.Lk)("br",null,null,-1)),t[49]||(t[49]=(0,r.Lk)("label",{for:"products"},"Products (Comma-separated Names):",-1)),t[50]||(t[50]=(0,r.Lk)("br",null,null,-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=e=>s.newEntry.products=e)},null,512),[[l.Jo,s.newEntry.products]]),t[51]||(t[51]=(0,r.Lk)("br",null,null,-1))])):(0,r.Q3)("",!0),t[52]||(t[52]=(0,r.Lk)("button",{type:"submit"},"Add Entry",-1))],32)])}var D={data(){return{selectedTable:"products",newEntry:{name:"",stock:null,price:null,number_sold:null,date:"",type:"",total:null,products:""}}},computed:{selectedTableTitle(){switch(this.selectedTable){case"products":return"Product";case"expenses":return"Expense";case"transactions":return"Transaction";default:return""}}},methods:{async submitForm(){let e="",t={};switch(this.selectedTable){case"products":e="http://127.0.0.1:8000/api/products/create/",t={...this.newEntry};break;case"expenses":e="http://127.0.0.1:8000/api/expenses/create/",t={...this.newEntry};break;case"transactions":e="http://127.0.0.1:8000/api/transactions/create/",t={total:this.newEntry.total,date:this.newEntry.date,type:this.newEntry.type,products:this.newEntry.products?this.newEntry.products.split(",").map((e=>e.trim())):[]};break;default:return}try{await u.A.post(e,t),this.resetForm(),this.$emit("data-updated",this.selectedTable)}catch(n){console.error("Error adding entry:",n)}},resetForm(){const e=this.getTodayDate();this.newEntry={name:"",stock:null,price:null,number_sold:null,date:e,type:"expenses"===this.selectedTable?"Fee":"transactions"===this.selectedTable?"Purchase":"",total:null,products:""}},getTodayDate(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${l}`}},mounted(){this.resetForm()}};const I=(0,E.A)(D,[["render",F]]);var x=I;const S={key:0,class:"error-message"};function U(e,t,n,l,a,s){return n.message?((0,r.uX)(),(0,r.CE)("div",S,(0,o.v_)(n.message),1)):(0,r.Q3)("",!0)}var _={props:["message"]};const X=(0,E.A)(_,[["render",U],["__scopeId","data-v-31728c78"]]);var A=X;const V={key:0,class:"success-message"};function O(e,t,n,l,a,s){return n.message?((0,r.uX)(),(0,r.CE)("div",V,(0,o.v_)(n.message),1)):(0,r.Q3)("",!0)}var M={props:["message"]};const P=(0,E.A)(M,[["render",O],["__scopeId","data-v-4eab90da"]]);var J=P,W={name:"App",components:{DataTable:g,EnterData:x,ErrorMessage:A,SuccessMessage:J},data(){return{errorMessage:"",successMessage:""}},methods:{handleDataUpdated(){this.$refs.dataTable.fetchData()},setError(e){this.errorMessage=e,setTimeout((()=>{this.errorMessage=""}),1e4)},setSuccess(e){this.successMessage=e,setTimeout((()=>{this.successMessage=""}),1e4)},setupGlobalErrorHandling(){u.A.interceptors.response.use((e=>{const t=e.status;if(205===t||201===t||204===t){let e="";205===t&&(e="Update completed successfully!"),201===t&&(e="New entry created successfully!"),204===t&&(e="Entry deleted successfully!"),this.setSuccess(e)}return e}),(e=>{const t=e.response?e.response.status:null,n=e.response&&e.response.data&&e.response.data.error?e.response.data.error:"An unexpected error occurred";return 400!==t&&404!==t&&500!==t||this.setError(`Error ${t}: ${n}`),Promise.reject(e)}))}},created(){this.setupGlobalErrorHandling()}};const Q=(0,E.A)(W,[["render",s],["__scopeId","data-v-ee8a09ec"]]);var $=Q;(0,l.Ef)($).mount("#app")}},t={};function n(l){var r=t[l];if(void 0!==r)return r.exports;var a=t[l]={exports:{}};return e[l].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,l,r,a){if(!l){var s=1/0;for(d=0;d<e.length;d++){l=e[d][0],r=e[d][1],a=e[d][2];for(var u=!0,o=0;o<l.length;o++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](l[o])}))?l.splice(o--,1):(u=!1,a<s&&(s=a));if(u){e.splice(d--,1);var i=r();void 0!==i&&(t=i)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[l,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var r,a,s=l[0],u=l[1],o=l[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(r in u)n.o(u,r)&&(n.m[r]=u[r]);if(o)var d=o(n)}for(t&&t(l);i<s.length;i++)a=s[i],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},l=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[504],(function(){return n(6137)}));l=n.O(l)})();
//# sourceMappingURL=app.cc80c9ff.js.map